# Platform-specific requirements (improved from Vietnamese-RVC) - COLAB COMPATIBLE
pip>=23.3
wheel
omegaconf>=2.0.6

# Platform-specific ONNX handling
onnxruntime; sys_platform == 'darwin'
onnxruntime-gpu; sys_platform != 'darwin'

# Core dependencies - COLAB OPTIMIZED
PyYAML>=6.0
tiktoken
hyperpyyaml
torch>=2.0.0,<3.0.0  # More flexible for Colab
torchvision>=0.15.0,<1.0.0  # Colab compatible version
torchaudio>=2.0.0,<3.0.0  # Colab compatible version
tqdm>=4.63.1
sortedcontainers

# Platform-specific FAISS handling (like Vietnamese-RVC) - COLAB FIX
faiss-cpu>=1.7.0,<2.0.0  # More flexible version constraints

# Machine learning, NLP and deep learning
transformers>=4.20.0,<5.0.0  # Colab compatible version range
scikit-learn
einops>=0.8.0
local-attention>=1.11.2  # Already fixed in previous commits

# Pitch and sound processing - COLAB COMPATIBLE
librosa>=0.9.0,<0.11.0  # More stable version range for Colab
pydub>=0.25.1
praat-parselmouth
soundfile>=0.12.0,<0.13.0  # Colab compatible
pedalboard>=0.7.0,<1.0.0  # Colab compatible

# Data processing and calculation - COLAB OPTIMIZED
numpy>=1.21.0,<2.0.0  # More flexible for Colab
numba>=0.56.0,<0.58.0  # Stable version for Colab
scipy>=1.9.0,<2.0.0  # Colab compatible range
matplotlib>=3.5.0,<4.0.0  # Colab compatible

# Implementation and web framework
gradio>=4.0.0,<6.0.0  # More flexible version for compatibility
requests>=2.28.0,<3.0.0
aiohttp>=3.8.0,<4.0.0

# Utility section
yt-dlp>=2023.0.0
ffmpy>=0.3.0,<0.4.0
ffmpeg-python>=0.2.0,<0.3.0
beautifulsoup4>=4.11.0,<5.0.0

# Audio and processing - COLAB COMPATIBLE
audio-separator[gpu]>=0.25.0,<0.35.0  # More stable version
noisereduce>=3.0.0,<4.0.0
stftpitchshift>=1.1.0,<2.0.0

# Additional dependencies from Vietnamese RVC - COLAB OPTIMIZED
libf0>=1.2.0,<2.0.0
pypresence>=22.0.0,<24.0.0
pycryptodome>=3.15.0,<4.0.0
sounddevice>=0.4.0,<1.0.0  # Colab compatible version
edge-tts>=6.1.0,<8.0.0  # More stable version

# Legacy compatibility - COLAB OPTIMIZED
torchcrepe>=0.0.20,<0.0.25

# Colab-specific optimizations and fallbacks
# These packages help with Colab compatibility but won't cause issues in other environments
packaging>=21.0,<24.0  # For better package management
setuptools>=65.0.0,<70.0.0  # Stable setuptools version